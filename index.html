<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOFNWAY | Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="theme.css">
</head>
<body>

    <nav class="navbar">
        <div class="brand">NO<span>FN</span>WAY</div>
        <div class="nav-controls">
            <button class="share-btn" onclick="shareSite()">You know who might like this?</button>
            <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
        </div>
    </nav>

    <div class="container">
        <div class="intro-box">
            <h2>Frictionless Tools for Brains Wired Differently</h2>
            <p>
                I have severe executive dysfunction. Small annoyances derail my day, so I build tools to remove the friction. 
                <strong>No accounts. No trackers. No cost.</strong> 
            </p>
        </div>

        <div id="main-content"></div>
    </div>

    <footer>
        <div class="terminal-container">
            <span id="terminal-text"></span><span class="cursor">&nbsp;</span>
        </div>
        
        <div class="disclaimer">
            I know some stuff is still broken. I'm fixing as fast as my brain vs. medication will allow. 
            Keep checking backâ€”I'll keep building until I get bored or the drugs stop working.
        </div>

        <a href="https://ko-fi.com/nofnway" target="_blank" class="kofi-link">
            <span>â˜•</span>&nbsp;Buy me a coffee / Send a message
        </a>

        <div style="margin-top: 20px; font-weight: bold; letter-spacing: 1px;">NOFNWAY &copy; 2026</div>
    </footer>

    <script>
        /* --- THEME CONTROLLER --- */
        function applyTheme() {
            const theme = localStorage.getItem('nofnway-theme') || 'light';
            document.documentElement.setAttribute('data-theme', theme);
        }

        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            localStorage.setItem('nofnway-theme', next);
            document.documentElement.setAttribute('data-theme', next);
        }
        applyTheme();

        /* --- SHARE LOGIC --- */
        function shareSite() {
            if (navigator.share) {
                navigator.share({
                    title: 'NOFNWAY | Command Center',
                    text: 'Frictionless tools for executive dysfunction.',
                    url: window.location.href
                }).catch(err => console.log('Error sharing:', err));
            } else {
                alert("Link copied: " + window.location.href);
            }
        }

        /* --- DATA MODEL --- */
        // Prioritized [FN] JPEGer as "Live" and updated categories for better scanning
        const apps = [
            { name: "[FN] JPEGer", desc: "You filled the PDF, but they want a JPEG. Privacy-first conversion.", link: "jpeger.html", status: "Live", type: "ready", cat: "Ready for Use" },
            { name: "[FN] HOW LONG?", desc: "Simple measurement tracking for when your brain won't hold the numbers.", link: "how_long.html", status: "Coming Soon", type: "working", cat: "Under Construction" },
            { name: "[FN] PDFer", desc: "Turn a pile of photos into a clean PDF without the bloat.", link: "pdfer.html", status: "Testing", type: "working", cat: "Under Construction" },
            { name: "[FN] HOW MUCH?", desc: "Instant unit conversions. Type a number and unit, get results.", link: "how_much.html", status: "Almost there", type: "dev", cat: "Under Construction" },
            { name: "[FN] GET LOST", desc: "A jogging route generator for when you need to run away for a bit.", link: "get_lost.html", status: "Dev", type: "dev", cat: "Under Construction" },
            { name: "[FN] MAGNET STUDIO", desc: "Custom-printed picture tiles for schedules and labels.", link: "magnet.html", status: "Dev", type: "dev", cat: "Under Construction" },
            { name: "NO Fs TO GIVE", desc: "A card game of willpower vs. wiring. Digital challenge & print-ready files.", link: "nofs-game/index.html", status: "Playtest", type: "working", cat: "Under Construction" }
        ];

        /* --- TERMINAL EFFECT ENGINE --- */
        const slogans = [
            "Someone still gives an F, especially when you've run out.",
            "Frictionless tools for brains that work differently.",
            "The [FN] on life's keyboard.",
            "Dulling the edges of normal society since sometime in the 80s.",
            "Yes, I actually write these myself.",
            "Yes, I get bored easily. Also often.",
            "This is a message from the past. Time travel is real. ðŸ¤¯"
        ];
        
        let sloganIdx = 0;
        let charIdx = 0;
        let isDeleting = false;
        const terminalEl = document.getElementById('terminal-text');

        function typeSlogan() {
            const current = slogans[sloganIdx];
            if (isDeleting) {
                terminalEl.textContent = current.substring(0, charIdx - 1);
                charIdx--;
            } else {
                terminalEl.textContent = current.substring(0, charIdx + 1);
                charIdx++;
            }

            let speed = isDeleting ? 30 : 60;

            if (!isDeleting && charIdx === current.length) {
                isDeleting = true;
                speed = 6000; // 6-second pause so people actually read it
            } else if (isDeleting && charIdx === 0) {
                isDeleting = false;
                sloganIdx = (sloganIdx + 1) % slogans.length;
                speed = 500;
            }
            setTimeout(typeSlogan, speed);
        }

        /* --- CORE RENDERER --- */
        function render() {
            const container = document.getElementById('main-content');
            // Hard-coded order to ensure "Ready for Use" is always at the top
            const categories = ["Ready for Use", "Under Construction"];
            container.innerHTML = '';
            
            categories.forEach(cat => {
                const filteredApps = apps.filter(a => a.cat === cat);
                if (filteredApps.length === 0) return;

                const section = document.createElement('div');
                section.innerHTML = `<h2 class="category-title">${cat}</h2><div class="grid"></div>`;
                const grid = section.querySelector('.grid');
                
                filteredApps.forEach(app => {
                    grid.innerHTML += `
                        <a href="${app.link}" class="card">
                            <div class="status-badge ${app.type}">${app.status}</div>
                            <h3>${app.name}</h3>
                            <p>${app.desc}</p>
                        </a>`;
                });
                container.appendChild(section);
            });
        }

        render();
        typeSlogan();
    </script>
</body>
</html>
