<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NOFNWAY | Command Center</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@900&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="theme.css">
    <style>
        .navbar { background: #000; padding: 15px 30px; display: flex; justify-content: space-between; align-items: center; border-bottom: 2px solid var(--brand); }
        .brand { font-family: 'Montserrat', sans-serif; font-weight: 900; font-size: 1.8rem; color: white; }
        .brand span { color: var(--brand); }
        
        .nav-controls { display: flex; align-items: center; gap: 20px; }

        /* Gradient Light/Dark Toggle */
        .theme-toggle { 
            background: linear-gradient(135deg, #3498db 0%, #2c3e50 100%); 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 5px; 
            cursor: pointer; 
            font-weight: bold; 
            font-family: 'Roboto', sans-serif;
            transition: 0.2s;
            text-transform: uppercase;
            letter-spacing: 1px;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .theme-toggle:hover { opacity: 0.9; transform: scale(1.02); }

        .container { max-width: 1100px; margin: 40px auto; padding: 20px; }
        .category-title { font-family: 'Montserrat', sans-serif; color: var(--brand); border-bottom: 1px solid var(--border); padding-bottom: 10px; margin-top: 40px; text-transform: uppercase; }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 25px; margin-top: 20px; }
        .card { background: var(--card-bg); border-radius: 12px; padding: 30px 25px 25px; border: 2px solid var(--border); text-decoration: none; color: inherit; position: relative; display: flex; flex-direction: column; transition: 0.2s; }
        .card:hover { border-color: var(--brand); transform: translateY(-3px); }
        .card h3 { margin: 10px 0; font-family: 'Montserrat', sans-serif; }
        .card p { color: var(--text-dim); line-height: 1.6; flex-grow: 1; }

        /* Terminal Component */
        .terminal-container { font-family: monospace; font-size: 1.1rem; color: var(--brand); min-height: 1.5em; margin-bottom: 10px; }
        .cursor { display: inline-block; width: 8px; background-color: var(--brand); margin-left: 4px; animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        footer { text-align: center; padding: 60px; color: var(--text-dim); font-size: 0.8rem; border-top: 1px solid var(--border); margin-top: 40px; }
    </style>
</head>
<body>

    <nav class="navbar">
        <div class="brand">NO<span>FN</span>WAY</div>
        <div class="nav-controls">
            <button class="theme-toggle" onclick="toggleTheme()">Light/Dark Mode</button>
        </div>
    </nav>

    <div class="container" id="main-content"></div>

    <footer>
        <div class="terminal-container">
            <span id="terminal-text"></span><span class="cursor">&nbsp;</span>
        </div>
        
        <div class="disclaimer">
            I know a lot of stuff on this site is still broken, but I'm fixing as fast as my brain vs. medication will allow. Keep checking back in, I'll be making regular improvements until I get bored/the drugs stop working. Thanks for checking it out!
        </div>

        <div style="margin-top: 20px;">NOFNWAY &copy; 2026</div>
    </footer>

    <script>
        /* --- THEME CONTROLLER --- */
        function applyTheme() {
            const theme = localStorage.getItem('nofnway-theme') || 'light';
            document.documentElement.setAttribute('data-theme', theme);
        }

        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            const next = current === 'dark' ? 'light' : 'dark';
            localStorage.setItem('nofnway-theme', next);
            document.documentElement.setAttribute('data-theme', next);
        }
        applyTheme();

        /* --- DATA MODEL (All set to Working/Yellow) --- */
        const apps = [
            { name: "[FN] HOW LONG?", desc: "For whenever you've got something that needs measuring.", link: "how_long.html", status: "In Progress", type: "working", cat: "Tools" },
            { name: "[FN] PDFer", desc: "They need a PDF but you've got a bunch of photos.", link: "pdfer.html", status: "In Progress", type: "working", cat: "Tools" },
            { name: "[FN] GET LOST", desc: "When you want to run away, but just for a little while.", link: "get_lost.html", status: "In Progress", type: "working", cat: "Active Projects" },
            { name: "[FN] MAGNET STUDIO", desc: "When you need custom-printed picture tiles for schedules, labels, etc.", link: "magnet.html", status: "In Progress", type: "working", cat: "Active Projects" },
            { name: "[FN] JPEGer", desc: "You filled the PDF, but they want a JPEG.", link: "jpeger.html", status: "In Progress", type: "working", cat: "Active Projects" }
        ];

        /* --- TERMINAL EFFECT ENGINE --- */
        const slogans = [
            "We give an F, especially when you've run out.",
            "Frictionless tools for brains that work differently.",
            "Building systems for executive dysfunction.",
        ];
        
        let sloganIdx = 0;
        let charIdx = 0;
        let isDeleting = false;
        const terminalEl = document.getElementById('terminal-text');

        function typeSlogan() {
            const current = slogans[sloganIdx];
            if (isDeleting) {
                terminalEl.textContent = current.substring(0, charIdx - 1);
                charIdx--;
            } else {
                terminalEl.textContent = current.substring(0, charIdx + 1);
                charIdx++;
            }

            let speed = isDeleting ? 40 : 80;

            if (!isDeleting && charIdx === current.length) {
                isDeleting = true;
                speed = 30000; // Hold for 30s
            } else if (isDeleting && charIdx === 0) {
                isDeleting = false;
                sloganIdx = (sloganIdx + 1) % slogans.length;
                speed = 500;
            }
            setTimeout(typeSlogan, speed);
        }

        /* --- CORE RENDERER --- */
        function render() {
            const container = document.getElementById('main-content');
            const categories = [...new Set(apps.map(a => a.cat))];
            container.innerHTML = '';
            
            categories.forEach(cat => {
                const section = document.createElement('div');
                section.innerHTML = `<h2 class="category-title">${cat}</h2><div class="grid"></div>`;
                const grid = section.querySelector('.grid');
                
                apps.filter(a => a.cat === cat).forEach(app => {
                    grid.innerHTML += `
                        <a href="${app.link}" class="card">
                            <div class="status-badge ${app.type}">${app.status}</div>
                            <h3>${app.name}</h3>
                            <p>${app.desc}</p>
                        </a>`;
                });
                container.appendChild(section);
            });
        }

        render();
        typeSlogan();
    </script>
</body>
</html>
